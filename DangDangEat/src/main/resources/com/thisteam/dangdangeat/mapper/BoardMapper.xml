<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.thisteam.dangdangeat.mapper.BoardMapper">

	<!-- ======================== jakyoung 시작 ============================== -->

	<!-- 해당 상품 리뷰 목록 조회 -->
	<select id="selectReviewList" resultType="com.thisteam.dangdangeat.vo.ReviewVO">
		SELECT *
			FROM review
			WHERE
				pro_code = #{pro_code}
			<if test="!keyword.equals('')">
				AND review_subject LIKE '%${keyword}%'
			</if>
		ORDER BY
			review_re_ref DESC, review_re_seq ASC
		LIMIT 
			#{startRow}
			, #{listLimit}
	</select>
	
	<!-- 해당 상품 리뷰 개수 계산 (페이징 처리) -->
	<select id="selectReviewListCount" resultType="int">
		SELECT COUNT(*)
			FROM review
			WHERE
				pro_code = #{pro_code}
			<if test="!keyword.equals('')">
				AND review_subject LIKE '%${keyword}%'
			</if>
	</select>
	
	
	
	<!-- ======================== jakyoung 끝 ============================== -->

</mapper>

















